<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Perfil do Usu√°rio</title>
  <link rel="icon" type="image/png" href="ChatGPT Image 19 de out. de 2025, 09_27_36.png">
  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", sans-serif;
      background-color: #f8f8f8;
    }

    .navbar {
      display: flex;
      align-items: center;
      background-color: #fff;
      border-bottom: 2px solid #e0e0e0;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
      padding: 10px 20px;
      justify-content: center;
    }

    .nav-item {
      display: flex;
      align-items: center;
      margin-right: 25px;
      cursor: pointer;
      color: #444;
      font-weight: 500;
      text-decoration: none;
      transition: color 0.2s, border-bottom 0.2s;
      border-bottom: 2px solid transparent;
      padding-bottom: 4px;
    }

    .nav-item:hover {
      color: #00bfa5;
      border-bottom: 2px solid #00bfa5;
    }

    .active {
      color: #00bfa5;
      border-bottom: 2px solid #00bfa5;
    }

    .profile-container {
      width: 90%;
      max-width: 700px;
      background-color: #fff;
      margin: 40px auto;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
      overflow: hidden;
    }

    .profile-header {
      background-color: #00bfa5;
      color: white;
      text-align: center;
      padding: 40px 20px;
      position: relative;
    }

    .avatar {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      background-color: #ccc;
      display: flex;
      justify-content: center;
      align-items: center;
      margin: 0 auto 10px;
      font-size: 28px;
      object-fit: cover;
      border: 3px solid #fff;
    }

    .upload-label {
      display: inline-block;
      background-color: #fff;
      color: #00bfa5;
      font-weight: 600;
      padding: 6px 14px;
      border-radius: 20px;
      cursor: pointer;
      font-size: 13px;
      transition: background-color 0.3s, color 0.3s;
    }

    .upload-label:hover {
      background-color: #00a78f;
      color: white;
    }

    input[type="file"] {
      display: none;
    }

    .profile-header h2 {
      margin: 10px 0 0;
      font-size: 20px;
      font-weight: 600;
    }

    .profile-header p {
      margin-top: 5px;
      font-size: 14px;
      opacity: 0.9;
    }

    .profile-content {
      padding: 25px;
    }

    .section-title {
      font-weight: bold;
      font-size: 14px;
      color: #444;
      margin-bottom: 10px;
    }

    .form-group {
      margin-bottom: 15px;
    }

    .form-row {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 10px;
    }

    .form-row label {
      flex: 1;
      font-size: 14px;
      color: #333;
    }

    .form-row input {
      flex: 3;
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
      outline: none;
    }

    .form-row input:focus {
      border-color: #00bfa5;
    }

    .form-row button {
      background-color: transparent;
      color: #00bfa5;
      border: none;
      font-weight: 600;
      cursor: pointer;
      transition: opacity 0.2s;
    }

    .form-row button:hover {
      opacity: 0.7;
    }

    .notifications {
      margin-top: 25px;
    }

    .notification-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background-color: #f9f9f9;
      border: 1px solid #eee;
      border-radius: 4px;
      padding: 10px 15px;
      margin-bottom: 10px;
    }

    .notification-item div {
      display: flex;
      flex-direction: column;
    }

    .notification-item span {
      font-size: 13px;
      color: #777;
    }

    .actions {
      text-align: center;
      margin-top: 25px;
    }

    .btn-signout {
      background-color: #00bfa5;
      color: white;
      border: none;
      padding: 10px 25px;
      border-radius: 4px;
      cursor: pointer;
      font-weight: 600;
      transition: background-color 0.3s;
    }

    .btn-signout:hover {
      background-color: #00a78f;
    }

    .delete {
      margin-top: 10px;
      display: inline-block;
      color: #999;
      font-size: 13px;
      cursor: pointer;
      transition: color 0.2s;
    }

    .delete:hover {
      color: #c62828;
    }
  </style>
</head>
<body>

  <!-- ===== NAVBAR ===== -->
  <div class="navbar">
    <a class="nav-item" href="inicio.html">In√≠cio</a>
    <a class="nav-item" href="ebooks.html">Ebook's</a>
    <a class="nav-item" href="jogo.html">Jogo</a>
    <a class="nav-item" href="mensagens.html">Mensagens</a>
    <a class="nav-item active" href="perfil.html">Perfil do Usu√°rio</a>
  </div>

  <!-- ===== CONTE√öDO DO PERFIL ===== -->
  <div class="profile-container">
    <div class="profile-header">
      <img id="avatar" class="avatar" src="https://via.placeholder.com/100" alt="Foto do usu√°rio">
      <label for="uploadFoto" class="upload-label">üì∏ Alterar Foto</label>
      <input type="file" id="uploadFoto" accept="image/*">
      <h2 id="userName">Usu√°rio</h2>
      <p id="userEmail">email@exemplo.com</p>
    </div>

    <div class="profile-content">
      <p class="section-title">Informa√ß√µes do Usu√°rio</p>

      <div class="form-group">
        <div class="form-row">
          <label for="name">Nome</label>
          <input type="text" id="name">
          <button onclick="saveField('nome')">Salvar</button>
        </div>
      </div>

      <div class="form-group">
        <div class="form-row">
          <label for="email">Email</label>
          <input type="email" id="email">
          <button onclick="saveField('email')">Salvar</button>
        </div>
      </div>

      <div class="form-group">
        <div class="form-row">
          <label for="password">Senha</label>
          <input type="password" id="password">
          <button onclick="saveField('senha')">Salvar</button>
        </div>
      </div>

      <div class="notifications">
        <p class="section-title">Notifica√ß√µes</p>
        <div class="notification-item">
          <div>
            <strong>Seguir</strong>
            <span>Receber notifica√ß√£o quando algu√©m te seguir</span>
          </div>
          <input type="checkbox" id="notif-follow">
        </div>
        <div class="notification-item">
          <div>
            <strong>Novas Mensagens</strong>
            <span>Receber notifica√ß√£o ao receber uma nova mensagem</span>
          </div>
          <input type="checkbox" id="notif-message">
        </div>
      </div>

      <div class="actions">
        <button class="btn-signout" onclick="logout()">SAIR</button><br>
        <span class="delete" onclick="deleteAccount()">DELETAR CONTA</span>
      </div>
    </div>
  </div>

  <script>
    let usuario = JSON.parse(localStorage.getItem("loggedUser"));

    if (!usuario) {
      alert("‚ö†Ô∏è Voc√™ precisa estar logado para acessar o perfil.");
      window.location.href = "login.html";
    } else {
      document.getElementById("userName").innerText = usuario.nome;
      document.getElementById("userEmail").innerText = usuario.email;
      document.getElementById("name").value = usuario.nome;
      document.getElementById("email").value = usuario.email;
      document.getElementById("password").value = usuario.senha;
      document.getElementById("avatar").src = usuario.foto || "https://via.placeholder.com/100";
    }

    // Upload e salvamento da foto
    const uploadFoto = document.getElementById("uploadFoto");
    const avatar = document.getElementById("avatar");

    uploadFoto.addEventListener("change", function() {
      const file = this.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onload = function(e) {
          const base64 = e.target.result;
          avatar.src = base64;
          usuario.foto = base64;

          let usuarios = JSON.parse(localStorage.getItem("usuarios")) || [];
          const index = usuarios.findIndex(u => u.email === usuario.email);
          if (index !== -1) usuarios[index] = usuario;

          localStorage.setItem("usuarios", JSON.stringify(usuarios));
          localStorage.setItem("loggedUser", JSON.stringify(usuario));

          alert("‚úÖ Foto de perfil atualizada!");
        };
        reader.readAsDataURL(file);
      }
    });

    // Atualizar campos
    function saveField(field) {
      const inputId = field === 'senha' ? 'password' : field;
      const value = document.getElementById(inputId).value;
      usuario[field] = value;

      let usuarios = JSON.parse(localStorage.getItem("usuarios")) || [];
      const index = usuarios.findIndex(u => u.email === usuario.email);
      if (index !== -1) usuarios[index] = usuario;

      localStorage.setItem("usuarios", JSON.stringify(usuarios));
      localStorage.setItem("loggedUser", JSON.stringify(usuario));

      alert("‚úÖ Informa√ß√µes atualizadas!");
      document.getElementById("userName").innerText = usuario.nome;
      document.getElementById("userEmail").innerText = usuario.email;
    }

    // Logout
    function logout() {
      localStorage.removeItem("loggedUser");
      window.location.href = "login.html";
    }

    // Excluir conta
    function deleteAccount() {
      if (confirm("Tem certeza que deseja excluir sua conta?")) {
        let usuarios = JSON.parse(localStorage.getItem("usuarios")) || [];
        usuarios = usuarios.filter(u => u.email !== usuario.email);
        localStorage.setItem("usuarios", JSON.stringify(usuarios));
        localStorage.removeItem("loggedUser");
        alert("‚ùå Conta exclu√≠da com sucesso!");
        window.location.href = "login.html";
      }
    }
  </script>

</body>
</html>
